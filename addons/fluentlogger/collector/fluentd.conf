<source>
  type forward
  port 24224
  bind 0.0.0.0
</source>

<filter **>
  @type record_transformer
  enable_ruby
  renew_record
  <record>
    pod       ${record["docker.label.io.kubernetes.pod.name"]}
    container ${record["docker.label.io.kubernetes.container.name"]}
    namespace ${record["docker.label.io.kubernetes.pod.namespace"]}
    message   ${record["message"]}
  </record>
</filter>

# Cloudwatch logs plugin.
# <match **>
#   type cloudwatch_logs
#   auto_create_stream true
#   localtime true
#   log_group_name_key namespace
#   log_stream_name_key pod
# </match>

<match **>
  type stdout
</match>
